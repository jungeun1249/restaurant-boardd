<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ë‚´ í”„ë¡œí•„ ê´€ë¦¬</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      background:#f8f9fa;
      display:flex;
      justify-content:center;
      align-items:center;
      height:100vh;
      font-family:'Pretendard', sans-serif;
    }
    .profile-card {
      background:white;
      padding:40px;
      border-radius:12px;
      box-shadow:0 4px 20px rgba(0,0,0,0.1);
      width:450px;
      text-align:center;
    }
    img {
      width:120px;
      height:120px;
      border-radius:50%;
      object-fit:cover;
      margin-bottom:15px;
      border:3px solid #d0bfff;
    }
    .btn-purple { background:#5a189a; color:white; border:none; }
    .btn-purple:hover { background:#7b2cbf; }
  </style>
</head>
<body>
  <div class="profile-card">
    <h3 class="mb-4">ğŸ‘¤ ë‚´ ì •ë³´ ê´€ë¦¬</h3>

    <% if (user.profile_image) { %>
      <img src="/uploads/<%= user.profile_image %>" alt="í”„ë¡œí•„">
    <% } else { %>
      <img src="https://cdn-icons-png.flaticon.com/512/9131/9131529.png" alt="ê¸°ë³¸ í”„ë¡œí•„">
    <% } %>

    <form action="/profile?_method=PUT" method="POST" enctype="multipart/form-data">
      <div class="mb-3 text-start">
        <label class="form-label fw-bold">ë¡œê·¸ì¸ ì•„ì´ë”” (ìˆ˜ì • ë¶ˆê°€)</label>
        <input type="text" class="form-control" value="<%= user.userid %>" disabled>
      </div>

      <div class="mb-3 text-start">
        <label class="form-label fw-bold">ë‹‰ë„¤ì„</label>
        <input type="text" class="form-control" name="nickname" value="<%= user.nickname %>" required>
      </div>

      <div class="mb-3 text-start">
        <label class="form-label fw-bold">ìƒˆ ë¹„ë°€ë²ˆí˜¸</label>
        <input type="password" class="form-control" name="newPassword" placeholder="ë³€ê²½ ì‹œì—ë§Œ ì…ë ¥">
      </div>

      <div class="mb-3 text-start">
        <label class="form-label fw-bold">í”„ë¡œí•„ ì´ë¯¸ì§€</label>
        <input type="file" class="form-control" name="profileImage" accept="image/*">
      </div>

      <button type="submit" class="btn btn-purple w-100 mb-2">ğŸ’¾ ë³€ê²½ ì €ì¥</button>
      <a href="/board" class="btn btn-secondary w-100">â† ê²Œì‹œíŒìœ¼ë¡œ ëŒì•„ê°€ê¸°</a>
    </form>

    <form action="/profile?_method=DELETE" method="POST" class="mt-3">
      <button type="submit" class="btn btn-outline-danger w-100">ğŸ—‘ï¸ íšŒì› íƒˆí‡´</button>
    </form>
  </div>
</body>
</html>
